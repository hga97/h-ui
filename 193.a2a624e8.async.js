"use strict";(self.webpackChunk_hga_h_ui=self.webpackChunk_hga_h_ui||[]).push([[193],{41042:function(O,U,o){o.r(U);var G=o(45186)},55193:function(O,U,o){o.r(U),o.d(U,{Alert:function(){return _},CountDownTimer:function(){return tn},MessageSource:function(){return fn},Search:function(){return K},SearchPanel:function(){return Cn},SearchSource:function(){return Un},UploadFiles:function(){return bn}});var G=o(97857),j=o.n(G),Y=o(13769),L=o.n(Y),h=o(67294),i=o(85893),X=["children","kind"],k="h-alert",$={info:"#5352ED",positive:"#2ED573",negative:"#FF4757",warning:"#FFA502"},q=function(n){var a=n.children,r=n.kind,s=r===void 0?"info":r,t=L()(n,X);return(0,i.jsx)("div",j()(j()({className:k,style:{background:$[s]}},t),{},{children:a}))},_=q,nn=o(5574),P=o.n(nn),en=function(n){var a=(0,h.useState)(n),r=P()(a,2),s=r[0],t=r[1],f=(0,h.useState)(!1),m=P()(f,2),u=m[0],p=m[1],l=function(){p(!0)},g=(0,h.useCallback)(function(){p(!1),t(n)},[t,p,n]);return(0,h.useEffect)(function(){var d;return u&&s>0?d=setTimeout(function(){t(s-1)},1e3):s===0&&g(),function(){clearTimeout(d)}},[u,s,g]),[s,u,l,g]},tn=function(e){var n=e.initialCountdown,a=(0,h.useState)(""),r=P()(a,2),s=r[0],t=r[1],f=function(c){t(c.target.value)},m=en(n),u=P()(m,3),p=u[0],l=u[1],g=u[2];return(0,i.jsxs)("div",{className:"count-down-timer",children:[(0,i.jsx)("input",{className:"phone-input",type:"text",value:s,onChange:f}),(0,i.jsx)("button",{className:"code-btn",onClick:g,disabled:l,children:l?"".concat(p,"\u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})]})},an=o(19632),z=o.n(an),rn=o(20745),on=o(5031),sn=o(73350),F=document.createElement("div");document.body.append(F),F.style.position="fixed",F.style.top="10px",F.style.zIndex="999";var un=rn.createRoot(F),ln=function(n){var a=n.content,r=n.onRemove,s=(0,h.useState)(!1),t=P()(s,2),f=t[0],m=t[1];return(0,h.useEffect)(function(){var u;return f||(u=setTimeout(function(){r()},3e3)),function(){console.log(f,"ishover"),clearTimeout(u)}},[f,r]),(0,i.jsx)("div",{className:"notification",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:a})},cn=(0,h.forwardRef)(function(e,n){var a=(0,h.useState)([]),r=P()(a,2),s=r[0],t=r[1],f=(0,h.useRef)(0);return(0,h.useImperativeHandle)(n,function(){return{notify:function(u){var p=f.current++;t(function(l){var g=(0,i.jsx)(on.Z,{className:"message",timeout:500,classNames:"message",children:(0,i.jsx)(ln,{onRemove:function(){t(function(c){return c.filter(function(v){return v.key!==p.toString()})})},content:u})},p);return[].concat(z()(l),[g])})}}},[]),(0,i.jsx)(sn.Z,{children:s})}),H=(0,h.createRef)();un.render((0,i.jsx)(cn,{ref:H}));function fn(e){H.current.notify(e)}var dn=o(52677),J=o.n(dn),vn=o(61062),hn=o(93967),W=o.n(hn),mn=["suffix","className"];function pn(e,n){typeof e=="function"?e(n):J()(e)==="object"&&e&&"current"in e&&(e.current=n)}function gn(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=n.filter(Boolean);return r.length<=1?r[0]:function(s){n.forEach(function(t){pn(t,s)})}}var K=h.forwardRef(function(e,n){var a=e.suffix,r=e.className,s=L()(e,mn),t=(0,h.useRef)(null),f=(0,i.jsx)("span",{className:"search-icon",onClick:function(){var u;if((u=t.current)!==null&&u!==void 0&&u.input){var p,l;(p=e.onSearch)===null||p===void 0||p.call(e,(l=t.current)===null||l===void 0||(l=l.input)===null||l===void 0?void 0:l.value)}},children:a||"\u{1F50D}"});return(0,i.jsx)(vn.default,j()({ref:gn(t,n),className:W()("search",r),placeholder:"\u8BF7\u8F93\u5165\u60F3\u641C\u7D22\u7684\u5185\u5BB9",allowClear:!0,suffix:f},s))}),Xn=o(41042),Sn=function(){var n=(0,h.useRef)(null),a=(0,h.useState)(!1),r=P()(a,2),s=r[0],t=r[1],f=(0,h.useState)(""),m=P()(f,2),u=m[0],p=m[1],l=function(){t(!0)},g=function(){p("sideUpOut"),setTimeout(function(){t(!1),p("")},300)},d=function(v){console.log(v)};return(0,h.useEffect)(function(){var c=function(S){var C=S.target;n.current&&!n.current.contains(C)&&g()};return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}},[]),(0,i.jsxs)("div",{className:"search-panel",onMouseDown:l,ref:n,children:[(0,i.jsx)(K,{placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",onSearch:d}),s&&(0,i.jsxs)("div",{className:W()("search-panel-drowpdown",u),children:[(0,i.jsx)("div",{className:"panel-history",children:"\u5386\u53F2\u8BB0\u5F55"}),(0,i.jsx)("div",{className:"panel-think",children:"\u731C\u4F60\u6240\u60F3"}),(0,i.jsx)("div",{className:"panel-colse",onClick:g,children:"\u5173\u95ED"})]})]})},Cn=Sn,xn=o(5927),jn=["onSearch","onChange","suffix"];function Pn(e,n){typeof e=="function"?e(n):J()(e)==="object"&&e&&"current"in e&&(e.current=n)}function yn(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=n.filter(Boolean);return r.length<=1?r[0]:function(s){n.forEach(function(t){Pn(t,s)})}}var Nn=h.forwardRef(function(e,n){var a=e.onSearch,r=e.onChange,s=e.suffix,t=L()(e,jn),f=h.useRef(null),m=function(d){d&&d.target&&d.type==="click"&&a&&a(d.target.value,d),r&&r(d)},u=function(d){if(a){var c;if((c=f.current)!==null&&c!==void 0&&c.input){var v;a((v=f.current)===null||v===void 0||(v=v.input)===null||v===void 0?void 0:v.value,d)}}},p=function(d){u(d)},l=(0,i.jsx)("span",{className:"search-icon",onClick:function(d){d.stopPropagation(),u(d)},children:s||"\u{1F50D}"});return(0,i.jsx)(xn.Z,j()(j()({ref:yn(f,n),onPressEnter:p,className:"search",placeholder:"\u8BF7\u8F93\u5165\u60F3\u641C\u7D22\u7684\u5185\u5BB9",allowClear:!0},t),{},{suffix:l,onChange:m}))}),Un=Nn,wn=o(15009),y=o.n(wn),Fn=o(99289),T=o.n(Fn),Tn=o(21054),En=o(23845),Rn=o(79855),b=o(68872),Q=o(33326),Dn=o(3290),Ln=o(45093),Bn=o(33375),An=o(64194),B=o(54683),Zn="ghp_nUtnJuaAQKWwGCPS",Mn="JITCTqMvh9c8Nc2H5Vmh",In="hgatest",On="files",V="main",Gn="https://api.github.com/repos",A="".concat(Gn,"/").concat(In,"/").concat(On,"/contents"),Z="static/images",M={Authorization:"token ".concat(Zn).concat(Mn),"Content-Type":"application/json; charset=utf-8"},zn=function(n){return new Promise(function(a,r){var s=new FileReader;s.readAsDataURL(n),s.onload=function(){var t=s.result;a(t.split(",")[1])},s.onerror=function(t){return r(t)}})},Hn=function(){var e=T()(y()().mark(function n(){var a,r;return y()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(A,"/").concat(Z),t.next=3,B.Z.get(a,{headers:M}).catch(function(f){return console.log(f)});case 3:return r=t.sent,t.abrupt("return",Array.isArray(r==null?void 0:r.data)?r.data:[]);case 5:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),Jn=function(){var e=T()(y()().mark(function n(a){var r,s,t,f,m,u,p,l,g,d,c;return y()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return t=a.content,f=a.file,m=a.onUploadProgress,u=new Date,p=((r=f.name)===null||r===void 0?void 0:r.split(".").pop())||"png",l="".concat(Z,"/").concat(u.getTime(),".").concat(p),g="".concat(A,"/").concat(l),d={branch:V,message:"upload",content:t,path:l},S.next=8,B.Z.put(g,d,{headers:M,onUploadProgress:m}).catch(function(C){return console.log(C)});case 8:return c=S.sent,S.abrupt("return",(c==null||(s=c.data)===null||s===void 0?void 0:s.content)||"");case 10:case"end":return S.stop()}},n)}));return function(a){return e.apply(this,arguments)}}(),Wn=function(){var e=T()(y()().mark(function n(a){var r,s,t,f,m,u;return y()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=a.name,s=a.sha,t="".concat(Z,"/").concat(r),f="".concat(A,"/").concat(t),m={branch:V,message:"delete",path:t,sha:s},l.next=6,B.Z.delete(f,{headers:M,data:j()({},m)}).catch(function(g){return console.log(g)});case 6:return u=l.sent,l.abrupt("return",(u==null?void 0:u.data)||"");case 8:case"end":return l.stop()}},n)}));return function(a){return e.apply(this,arguments)}}(),Kn=function(){var n=(0,h.useState)([]),a=P()(n,2),r=a[0],s=a[1],t=(0,h.useState)([]),f=P()(t,2),m=f[0],u=f[1];(0,h.useEffect)(function(){Hn().then(function(c){return u(c)})},[]);var p=function(v){var S=v.fileList;s(S)},l=function(v){var S=v.type==="image/jpeg"||v.type==="image/png";S||b.ZP.error("You can only upload JPG/PNG file!");var C=v.size/1024/1024<2;return C||b.ZP.error("Image must smaller than 2MB!"),S&&C||Q.Z.LIST_IGNORE},g=function(){var c=T()(y()().mark(function v(S){var C,E,R,w;return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return C=S.file,x.next=3,zn(C);case 3:return E=x.sent,R=function(N){var Vn=Math.round(N.loaded*100/N.total);s(function(Yn){return Yn.map(function(I){return I.uid===C.uid?j()(j()({},I),{},{percent:Vn}):I})})},x.next=7,Jn({content:E,file:C,onUploadProgress:R});case 7:w=x.sent,w?u([].concat(z()(m),[w])):s(function(D){return D.map(function(N){return N.uid===C.uid?j()(j()({},N),{},{status:"error"}):N})});case 9:case"end":return x.stop()}},v)}));return function(S){return c.apply(this,arguments)}}(),d={multiple:!0,onChange:p,beforeUpload:l,customRequest:g,itemRender:function(){var v=arguments.length<=1?void 0:arguments[1];return(0,i.jsxs)("div",{className:"file-item",children:[(0,i.jsx)(Dn.Z,{percent:v.percent,showInfo:!1,status:v.status==="error"?"exception":"success"}),(0,i.jsx)("div",{children:v.name})]})}};return(0,i.jsxs)("div",{className:"upload-files",children:[(0,i.jsx)(Q.Z,j()(j()({},d),{},{fileList:r,children:(0,i.jsx)(Ln.ZP,{icon:(0,i.jsx)(Tn.Z,{}),children:"Upload"})})),(0,i.jsx)("div",{className:"file-list",children:m.map(function(c){return(0,i.jsx)(Bn.Z,{width:200,src:c.download_url,preview:{mask:(0,i.jsxs)("div",{children:[(0,i.jsx)(En.Z,{style:{margin:"0 10px",fontSize:18}}),(0,i.jsx)(Rn.Z,{style:{fontSize:18},onClick:function(S){S.stopPropagation(),An.Z.confirm({centered:!0,icon:null,content:"\u786E\u8BA4\u5220\u9664",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){var C=T()(y()().mark(function R(){var w;return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Wn(c);case 2:w=x.sent,w&&u(function(D){return D.filter(function(N){return N.name!==c.name})});case 4:case"end":return x.stop()}},R)}));function E(){return C.apply(this,arguments)}return E}()})}})]})}},c.name)})})]})},bn=Kn},45186:function(O,U,o){o.r(U)}}]);
